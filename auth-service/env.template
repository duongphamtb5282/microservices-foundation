# ==============================================================================
# AUTH SERVICE ENVIRONMENT VARIABLES TEMPLATE
# ==============================================================================
# Copy this file to .env and customize for your environment
# DO NOT commit .env file to version control
# ==============================================================================

# ==============================================================================
# APPLICATION CONFIGURATION
# ==============================================================================
SPRING_APPLICATION_NAME=auth-service
SPRING_PROFILES_ACTIVE=dev
SERVER_PORT=8082
SERVER_CONTEXT_PATH=/

# ==============================================================================
# DATABASE CONFIGURATION (PostgreSQL)
# ==============================================================================
DB_URL=jdbc:postgresql://localhost:5432/auth
DB_USERNAME=auth_user
DB_PASSWORD=auth_password
DB_SCHEMA=auth
DB_CONNECTION_TIMEOUT=20000
DB_IDLE_TIMEOUT=300000
DB_MAX_LIFETIME=600000
DB_MAX_POOL_SIZE=10
DB_MIN_IDLE=2
DB_LEAK_DETECTION_THRESHOLD=30000
DB_VALIDATION_TIMEOUT=5000

# ==============================================================================
# REDIS CONFIGURATION
# ==============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DATABASE=0
REDIS_TIMEOUT=2000
REDIS_POOL_MAX_ACTIVE=8
REDIS_POOL_MAX_IDLE=8
REDIS_POOL_MIN_IDLE=0
REDIS_POOL_MAX_WAIT=-1

# Production Redis Cluster Configuration (uncomment for production)
# REDIS_CLUSTER_NODES=redis-cluster-0.auth-service.svc.cluster.local:6379,redis-cluster-1.auth-service.svc.cluster.local:6379,redis-cluster-2.auth-service.svc.cluster.local:6379

# ==============================================================================
# KAFKA CONFIGURATION
# ==============================================================================
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_ENABLED=true
KAFKA_MAX_ATTEMPTS=3
KAFKA_INITIAL_BACKOFF=1s
KAFKA_MAX_BACKOFF=5m

# Production Kafka Security (uncomment for production)
# KAFKA_SECURITY_PROTOCOL=SASL_SSL
# KAFKA_SASL_MECHANISM=SCRAM-SHA-256
# KAFKA_USERNAME=kafka-user
# KAFKA_PASSWORD=kafka-password
# KAFKA_SSL_TRUSTSTORE_LOCATION=/etc/ssl/certs/ca-certificates.crt
# KAFKA_TRUSTSTORE_PASSWORD=

# ==============================================================================
# JWT CONFIGURATION
# ==============================================================================
JWT_SECRET=jUgGhjJ+vp1sj8502aJBaRNHbpdU3Oi1GoINYtuNO1Y=
JWT_ACCESS_TTL=1h
JWT_REFRESH_TTL=7d
JWT_ISSUER=auth-service
JWT_AUDIENCE=microservices

# ==============================================================================
# KEYCLOAK CONFIGURATION
# ==============================================================================
KEYCLOAK_ENABLED=true
KEYCLOAK_URL=http://localhost:8080
KEYCLOAK_REALM=auth-service
KEYCLOAK_CLIENT_ID=auth-service-client
KEYCLOAK_CLIENT_SECRET=your-client-secret-here
KEYCLOAK_SSL_REQUIRED=none

# ==============================================================================
# AUTHENTICATION MODE
# ==============================================================================
# Options: custom, keycloak
AUTH_MODE=custom

# ==============================================================================
# CACHE CONFIGURATION
# ==============================================================================
CACHE_ENABLED=true
AUTH_CACHE_ENABLED=true
AUTH_CACHE_TTL=5m
AUTH_CACHE_SIZE=1000

# Auth Cache Specific
AUTH_USER_CACHE_TTL=5m
AUTH_TOKEN_CACHE_TTL=15m
AUTH_ROLE_CACHE_TTL=1h
AUTH_PERMISSION_CACHE_TTL=30m
AUTH_MAX_USERS=1000
AUTH_MAX_TOKENS=500

# ==============================================================================
# HIBERNATE CONFIGURATION
# ==============================================================================
JPA_SHOW_SQL=false
HIBERNATE_FORMAT_SQL=true
HIBERNATE_USE_SECOND_LEVEL_CACHE=true
HIBERNATE_USE_QUERY_CACHE=true
HIBERNATE_JDBC_BATCH_SIZE=25
HIBERNATE_JDBC_ORDER_INSERTS=true
HIBERNATE_JDBC_ORDER_UPDATES=true
HIBERNATE_GENERATE_STATISTICS=false

# ==============================================================================
# CORS CONFIGURATION
# ==============================================================================
CORS_ENABLED=true
CORS_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS,PATCH
CORS_HEADERS=*
CORS_CREDENTIALS=true
CORS_MAX_AGE=3600

# ==============================================================================
# LOGGING CONFIGURATION
# ==============================================================================
LOG_LEVEL_ROOT=INFO
LOG_LEVEL_AUTH=INFO
LOG_LEVEL_BACKEND=INFO
LOG_LEVEL_SECURITY=DEBUG
LOG_LEVEL_SQL=INFO
LOG_LEVEL_WEB=INFO
LOG_LEVEL_KAFKA=INFO
LOG_FILE_NAME=logs/auth-service.log
LOG_FILE_MAX_SIZE=50MB
LOG_FILE_MAX_HISTORY=7
LOG_FILE_TOTAL_SIZE_CAP=1GB

# ==============================================================================
# ACTUATOR CONFIGURATION
# ==============================================================================
ACTUATOR_BASE_PATH=/actuator
ACTUATOR_ENDPOINTS=health,info,metrics,prometheus
ACTUATOR_HEALTH_SHOW_DETAILS=when-authorized
ACTUATOR_METRICS_ENABLED=true
PROMETHEUS_ENABLED=true
PROMETHEUS_DESCRIPTIONS=false

# ==============================================================================
# MONITORING CONFIGURATION
# ==============================================================================
MONITORING_ENABLED=true
MONITORING_HEALTH_CHECKS=true
MONITORING_METRICS=true
HEALTH_REDIS_ENABLED=true
HEALTH_DB_ENABLED=true

# ==============================================================================
# DATABASE MONITORING
# ==============================================================================
DATABASE_ENABLED=true
DATABASE_MAX_POOL_SIZE=20

# ==============================================================================
# SECURITY HEADERS
# ==============================================================================
SECURITY_CONNECT_SRC=http://localhost:3000 http://localhost:8080 http://localhost:8082

# ==============================================================================
# DEBUG CONFIGURATION
# ==============================================================================
DEBUG_ENABLED=false

# ==============================================================================
# OPENAPI/SWAGGER CONFIGURATION
# ==============================================================================
API_TITLE=Auth Service API
API_DESCRIPTION=Authentication and authorization service for microservices architecture
API_VERSION=1.0.0
API_LICENSE_NAME=Apache 2.0
API_LICENSE_URL=https://www.apache.org/licenses/LICENSE-2.0
API_SERVER_URL=http://localhost:8082

SPRINGDOC_API_DOCS_PATH=/v3/api-docs
SPRINGDOC_API_DOCS_ENABLED=true
SPRINGDOC_SWAGGER_UI_PATH=/swagger-ui.html
SPRINGDOC_SWAGGER_UI_ENABLED=true
SPRINGDOC_OPERATIONS_SORTER=method
SPRINGDOC_TAGS_SORTER=alpha

# ==============================================================================
# PRODUCTION-SPECIFIC SETTINGS (Uncomment and set for production)
# ==============================================================================

# Database Production Settings
# DB_URL=jdbc:postgresql://auth-postgres-cluster.auth-service.svc.cluster.local:5432/auth
# DB_USERNAME=auth_user
# DB_PASSWORD=<strong-production-password>
# DB_MAX_POOL_SIZE=50
# DB_MIN_IDLE=10

# Redis Production Settings
# REDIS_HOST=auth-redis-cluster.auth-service.svc.cluster.local
# REDIS_PASSWORD=<strong-redis-password>
# REDIS_CLUSTER_NODES=auth-redis-cluster-0.auth-service.svc.cluster.local:6379,auth-redis-cluster-1.auth-service.svc.cluster.local:6379,auth-redis-cluster-2.auth-service.svc.cluster.local:6379
# REDIS_POOL_MAX_ACTIVE=20
# REDIS_POOL_MAX_IDLE=10
# REDIS_POOL_MIN_IDLE=5

# Kafka Production Settings
# KAFKA_BOOTSTRAP_SERVERS=auth-kafka-cluster.auth-service.svc.cluster.local:9092
# KAFKA_SECURITY_PROTOCOL=SASL_SSL
# KAFKA_SASL_MECHANISM=SCRAM-SHA-256
# KAFKA_USERNAME=<kafka-username>
# KAFKA_PASSWORD=<kafka-password>
# KAFKA_SSL_TRUSTSTORE_LOCATION=/etc/ssl/certs/ca-certificates.crt

# Keycloak Production Settings
# KEYCLOAK_URL=https://keycloak.auth-service.company.com
# KEYCLOAK_REALM=auth-service-prod
# KEYCLOAK_CLIENT_SECRET=<strong-client-secret>
# KEYCLOAK_SSL_REQUIRED=external

# JWT Production Settings (shorter TTL for security)
# JWT_ACCESS_TTL=30m
# JWT_REFRESH_TTL=24h
# JWT_SECRET=<strong-256-bit-secret>
# JWT_ISSUER=auth-service-prod

# Logging Production Settings
# LOG_FILE_NAME=/var/log/auth-service/auth-service.log
# LOG_FILE_MAX_SIZE=200MB
# LOG_FILE_MAX_HISTORY=30
# LOG_FILE_TOTAL_SIZE_CAP=2GB
# LOG_LEVEL_ROOT=WARN
# LOG_LEVEL_AUTH=INFO
# LOG_LEVEL_SECURITY=WARN

# Cache Production Settings
# AUTH_CACHE_TTL=10m
# AUTH_CACHE_SIZE=5000
# AUTH_MAX_USERS=10000
# AUTH_MAX_TOKENS=5000

# JVM Production Settings
# KEYSTORE_PASSWORD=<keystore-password>
# TRUSTSTORE_PASSWORD=<truststore-password>

# ==============================================================================
# DOCKER-SPECIFIC OVERRIDES (Uncomment when running in Docker)
# ==============================================================================

# DB_URL=jdbc:postgresql://postgres:5432/auth
# REDIS_HOST=redis
# KAFKA_BOOTSTRAP_SERVERS=kafka:9092
# KEYCLOAK_URL=http://keycloak:8080

# ==============================================================================
# NOTES
# ==============================================================================
# - Replace all placeholder values with actual values
# - Never commit sensitive data to version control
# - Use different .env files for different environments
# - For production, use a secrets management system (Vault, AWS Secrets Manager, etc.)
# - Validate all URLs and connection strings before deployment
# - Monitor PostgreSQL connection pool usage and adjust pool size based on load
# - Configure proper authentication for PostgreSQL in production
# - Ensure JWT secrets are at least 256 bits for security