# ==============================================================================
# AUTH SERVICE DEVELOPMENT ENVIRONMENT VARIABLES
# ==============================================================================
# This file contains all environment variables for the development environment
# Copy this file to .env and customize for your environment
# DO NOT commit .env file to version control
# ==============================================================================

# ==============================================================================
# APPLICATION CONFIGURATION
# ==============================================================================
SPRING_APPLICATION_NAME=auth-service-dev
SPRING_PROFILES_ACTIVE=dev
SERVER_PORT=8083
SERVER_CONTEXT_PATH=/
DEBUG_ENABLED=false

# ==============================================================================
# DATABASE CONFIGURATION (PostgreSQL)
# ==============================================================================
DB_URL=jdbc:postgresql://localhost:5432/auth
DB_USERNAME=auth_user
DB_PASSWORD=auth_password
DB_SCHEMA=auth
DB_CONNECTION_TIMEOUT=20000
DB_IDLE_TIMEOUT=300000
DB_MAX_LIFETIME=600000
DB_MAX_POOL_SIZE=10
DB_MIN_IDLE=2
DB_LEAK_DETECTION_THRESHOLD=30000
DB_VALIDATION_TIMEOUT=5000

# ==============================================================================
# REDIS CONFIGURATION (L2 Cache)
# ==============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DATABASE=0
REDIS_TIMEOUT=2000ms
REDIS_POOL_MAX_ACTIVE=8
REDIS_POOL_MAX_IDLE=8
REDIS_POOL_MIN_IDLE=0
REDIS_POOL_MAX_WAIT=-1ms

# ==============================================================================
# KAFKA CONFIGURATION (Event-Driven Architecture)
# ==============================================================================
KAFKA_ENABLED=true
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_MAX_ATTEMPTS=3
KAFKA_INITIAL_BACKOFF=1s
KAFKA_MAX_BACKOFF=5m

# ==============================================================================
# CQRS CONFIGURATION (Command Query Responsibility Segregation)
# ==============================================================================
# Kafka Topics for CQRS Pattern
KAFKA_CQRS_ENABLED=true
KAFKA_COMMAND_TOPIC=auth-commands
KAFKA_EVENT_TOPIC=auth-events
KAFKA_USER_EVENTS_TOPIC=user-events

# ==============================================================================
# JWT CONFIGURATION (Authentication Tokens)
# ==============================================================================
JWT_SECRET=jUgGhjJ+vp1sj8502aJBaRNHbpdU3Oi1GoINYtuNO1Y=
JWT_ACCESS_TTL=1h
JWT_REFRESH_TTL=7d
JWT_ISSUER=auth-service-dev
JWT_AUDIENCE=microservices

# ==============================================================================
# KEYCLOAK CONFIGURATION (OAuth2/OIDC Provider)
# ==============================================================================
KEYCLOAK_ENABLED=false
KEYCLOAK_URL=http://localhost:8080
KEYCLOAK_REALM=auth-service
KEYCLOAK_CLIENT_ID=auth-service-client
KEYCLOAK_CLIENT_SECRET=your-client-secret-here
KEYCLOAK_SSL_REQUIRED=none

# ==============================================================================
# AUTHENTICATION MODE
# ==============================================================================
# Options: custom (JWT), keycloak (OAuth2/OIDC)
AUTH_MODE=custom

# ==============================================================================
# CACHE CONFIGURATION (Multi-Level Caching)
# ==============================================================================
CACHE_ENABLED=true
AUTH_CACHE_ENABLED=true
AUTH_CACHE_TTL=10m
AUTH_CACHE_SIZE=1000

# Application-Level Cache Settings
AUTH_USER_CACHE_TTL=5m
AUTH_TOKEN_CACHE_TTL=15m
AUTH_ROLE_CACHE_TTL=1h
AUTH_PERMISSION_CACHE_TTL=30m
AUTH_MAX_USERS=1000
AUTH_MAX_TOKENS=500

# ==============================================================================
# HIBERNATE CONFIGURATION (JPA/ORM)
# ==============================================================================
JPA_SHOW_SQL=false
HIBERNATE_FORMAT_SQL=true
HIBERNATE_USE_SECOND_LEVEL_CACHE=true
HIBERNATE_USE_QUERY_CACHE=true
HIBERNATE_JDBC_BATCH_SIZE=25
HIBERNATE_JDBC_ORDER_INSERTS=true
HIBERNATE_JDBC_ORDER_UPDATES=true
HIBERNATE_GENERATE_STATISTICS=false

# ==============================================================================
# CORS CONFIGURATION (Cross-Origin Resource Sharing)
# ==============================================================================
CORS_ENABLED=true
CORS_ORIGINS=http://localhost:3000,http://localhost:8080,http://localhost:8082
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS,PATCH
CORS_HEADERS=*
CORS_CREDENTIALS=true
CORS_MAX_AGE=3600

# ==============================================================================
# LOGGING CONFIGURATION
# ==============================================================================
LOG_LEVEL_ROOT=INFO
LOG_LEVEL_AUTH=DEBUG
LOG_LEVEL_BACKEND=INFO
LOG_LEVEL_SECURITY=DEBUG
LOG_LEVEL_SQL=INFO
LOG_LEVEL_WEB=INFO
LOG_LEVEL_KAFKA=INFO
LOG_FILE_NAME=logs/auth-service-dev.log
LOG_FILE_MAX_SIZE=50MB
LOG_FILE_MAX_HISTORY=7
LOG_FILE_TOTAL_SIZE_CAP=1GB

# ==============================================================================
# ACTUATOR CONFIGURATION (Spring Boot Monitoring)
# ==============================================================================
ACTUATOR_BASE_PATH=/actuator
ACTUATOR_ENDPOINTS=health,info,metrics,prometheus
ACTUATOR_HEALTH_SHOW_DETAILS=always
ACTUATOR_METRICS_ENABLED=true
PROMETHEUS_ENABLED=true
PROMETHEUS_DESCRIPTIONS=false

# ==============================================================================
# MONITORING CONFIGURATION (Application Monitoring)
# ==============================================================================
MONITORING_ENABLED=true
MONITORING_HEALTH_CHECKS=true
MONITORING_METRICS=true
HEALTH_REDIS_ENABLED=true
HEALTH_DB_ENABLED=true

# ==============================================================================
# DATABASE MONITORING (Connection Pool Monitoring)
# ==============================================================================
DATABASE_ENABLED=true
DATABASE_MAX_POOL_SIZE=20

# ==============================================================================
# SECURITY HEADERS (HTTP Security Headers)
# ==============================================================================
SECURITY_CONNECT_SRC=http://localhost:3000 http://localhost:8080 http://localhost:8082

# ==============================================================================
# AUDIT CONFIGURATION (Audit Trail System)
# ==============================================================================
# Audit events are handled through JPA auditing and AOP aspects
# No additional environment variables needed for basic audit functionality
AUDIT_ENABLED=true
AUDIT_LOGGING_ENABLED=true

# ==============================================================================
# OPENAPI/SWAGGER CONFIGURATION (API Documentation)
# ==============================================================================
API_TITLE=Auth Service API
API_DESCRIPTION=Authentication and authorization service for microservices architecture
API_VERSION=1.0.0
API_LICENSE_NAME=Apache 2.0
API_LICENSE_URL=https://www.apache.org/licenses/LICENSE-2.0
API_SERVER_URL=http://localhost:8083

SPRINGDOC_API_DOCS_PATH=/v3/api-docs
SPRINGDOC_API_DOCS_ENABLED=true
SPRINGDOC_SWAGGER_UI_PATH=/swagger-ui.html
SPRINGDOC_SWAGGER_UI_ENABLED=true
SPRINGDOC_OPERATIONS_SORTER=method
SPRINGDOC_TAGS_SORTER=alpha

# ==============================================================================
# RESILIENCE4J CONFIGURATION (Circuit Breaker & Resilience)
# ==============================================================================
RESILIENCE4J_ENABLED=true
CIRCUIT_BREAKER_ENABLED=true
RETRY_ENABLED=true

# ==============================================================================
# MICROSERVICE CONFIGURATION (Feign Clients)
# ==============================================================================
FEIGN_ENABLED=true
OPENFEIGN_ENABLED=true

# ==============================================================================
# DEVELOPMENT-SPECIFIC OVERRIDES
# ==============================================================================
# Override production defaults for development
LOG_LEVEL_AUTH=DEBUG
LOG_LEVEL_SECURITY=DEBUG
JPA_SHOW_SQL=false
HIBERNATE_GENERATE_STATISTICS=false

# ==============================================================================
# NOTES FOR DEVELOPMENT ENVIRONMENT
# ==============================================================================
# - Database: PostgreSQL running on localhost:5432
# - Redis: Running on localhost:6379 (no password)
# - Kafka: Running on localhost:9092
# - Keycloak: Disabled for development (using custom JWT)
# - Caching: Multi-level (Caffeine L1 + Redis L2 + Hibernate L2)
# - Monitoring: Full actuator endpoints enabled
# - Audit: JPA auditing with AOP aspects enabled
