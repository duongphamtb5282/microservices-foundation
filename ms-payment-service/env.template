# ==============================================================================
# PAYMENT SERVICE ENVIRONMENT VARIABLES TEMPLATE
# ==============================================================================
# Copy this file to .env and customize for your environment
# DO NOT commit .env file to version control
# ==============================================================================

# ==============================================================================
# APPLICATION CONFIGURATION
# ==============================================================================
SPRING_APPLICATION_NAME=ms-payment-service
SPRING_PROFILES_ACTIVE=dev
SERVER_PORT=8083
SERVER_CONTEXT_PATH=/

# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=payments_db
DB_URL=jdbc:postgresql://${DB_HOST}:${DB_PORT}/${DB_NAME}
DB_USERNAME=postgres
DB_PASSWORD=postgres
DB_DRIVER=org.postgresql.Driver

# Database Connection Pool
DB_POOL_MAX_SIZE=10
DB_POOL_MIN_IDLE=5
DB_CONNECTION_TIMEOUT=30000
DB_IDLE_TIMEOUT=600000
DB_MAX_LIFETIME=1800000

# JPA/Hibernate
JPA_DDL_AUTO=validate
JPA_SHOW_SQL=false
HIBERNATE_DIALECT=org.hibernate.dialect.PostgreSQLDialect
HIBERNATE_FORMAT_SQL=true
JPA_OPEN_IN_VIEW=false

# ==============================================================================
# REDIS CONFIGURATION
# ==============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_TIMEOUT=2000ms
REDIS_LETTUCE_POOL_MAX_ACTIVE=8
REDIS_LETTUCE_POOL_MAX_IDLE=8
REDIS_LETTUCE_POOL_MIN_IDLE=0
REDIS_LETTUCE_POOL_MAX_WAIT=-1ms

# ==============================================================================
# KAFKA CONFIGURATION
# ==============================================================================
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_CONSUMER_GROUP_ID=payment-service
KAFKA_AUTO_OFFSET_RESET=earliest

# ==============================================================================
# CACHE CONFIGURATION
# ==============================================================================
CACHE_TYPE=redis

# ==============================================================================
# LOGGING CONFIGURATION
# ==============================================================================
LOG_LEVEL_ROOT=INFO
LOG_LEVEL_APP=DEBUG
LOG_LEVEL_PAYMENT=INFO
LOG_LEVEL_SPRING=INFO
LOG_LEVEL_SPRING_DATA_JPA=DEBUG
LOG_FILE=logs/ms-payment-service.log
LOG_FILE_MAX_SIZE=10MB
LOG_FILE_MAX_HISTORY=30

# ==============================================================================
# ACTUATOR CONFIGURATION
# ==============================================================================
ACTUATOR_BASE_PATH=/actuator
ACTUATOR_ENDPOINTS=health,info,metrics,prometheus
ACTUATOR_HEALTH_SHOW_DETAILS=when-authorized
ACTUATOR_HEALTH_ENABLED=true
ACTUATOR_INFO_ENABLED=true
ACTUATOR_METRICS_ENABLED=true
PROMETHEUS_ENABLED=true

# ==============================================================================
# OPENAPI/SWAGGER CONFIGURATION
# ==============================================================================
API_TITLE=Payment Service API
API_DESCRIPTION=Payment Processing REST API
API_VERSION=1.0.0
API_LICENSE_NAME=Apache 2.0
API_LICENSE_URL=https://www.apache.org/licenses/LICENSE-2.0
API_SERVER_URL=http://localhost:8083

SPRINGDOC_API_DOCS_PATH=/v3/api-docs
SPRINGDOC_API_DOCS_ENABLED=true
SPRINGDOC_SWAGGER_UI_PATH=/swagger-ui.html
SPRINGDOC_SWAGGER_UI_ENABLED=true
SPRINGDOC_OPERATIONS_SORTER=method
SPRINGDOC_TAGS_SORTER=alpha

# ==============================================================================
# SECURITY CONFIGURATION
# ==============================================================================
SECURITY_ENABLED=true
SECURITY_OAUTH2_RESOURCESERVER_JWT_ISSUER_URI=http://localhost:8082

# ==============================================================================
# PAYMENT PROCESSING CONFIGURATION
# ==============================================================================
PAYMENT_PROCESSING_ENABLED=true
PAYMENT_PROCESSING_TIMEOUT=30000
PAYMENT_SUPPORTED_CURRENCIES=USD,EUR,GBP
PAYMENT_DEFAULT_CURRENCY=USD

# Payment Methods
PAYMENT_METHOD_CREDIT_CARD_ENABLED=true
PAYMENT_METHOD_PAYPAL_ENABLED=true
PAYMENT_METHOD_BANK_TRANSFER_ENABLED=true

# Payment Gateway Configuration (Mock/Stripe/PayPal/etc.)
PAYMENT_GATEWAY_PROVIDER=mock
PAYMENT_GATEWAY_API_KEY=your-payment-gateway-api-key
PAYMENT_GATEWAY_SECRET_KEY=your-payment-gateway-secret-key
PAYMENT_GATEWAY_WEBHOOK_SECRET=your-webhook-secret

# Payment Limits
PAYMENT_MIN_AMOUNT=0.01
PAYMENT_MAX_AMOUNT=10000.00

# Refund Configuration
PAYMENT_REFUND_ENABLED=true
PAYMENT_REFUND_TIME_WINDOW_DAYS=30
PAYMENT_AUTO_REFUND_FAILED_PAYMENTS=true

# ==============================================================================
# INVENTORY INTEGRATION
# ==============================================================================
INVENTORY_INTEGRATION_ENABLED=true
INVENTORY_UPDATE_ON_PAYMENT_SUCCESS=true
INVENTORY_RESERVATION_RELEASE_ON_PAYMENT_FAILURE=true

# ==============================================================================
# MONITORING CONFIGURATION
# ==============================================================================
MONITORING_ENABLED=true
MONITORING_HEALTH_CHECKS_ENABLED=true
MONITORING_METRICS_ENABLED=true
MONITORING_LOGGING_ENABLED=true
MONITORING_LOG_LEVEL=INFO

# Payment Metrics
METRICS_PAYMENT_SUCCESS_RATE_ENABLED=true
METRICS_PAYMENT_PROCESSING_TIME_ENABLED=true
METRICS_PAYMENT_VOLUME_ENABLED=true

# ==============================================================================
# DOCKER-SPECIFIC OVERRIDES
# ==============================================================================
# Uncomment and use these when running in Docker containers

# DB_HOST=postgres
# REDIS_HOST=redis
# KAFKA_BOOTSTRAP_SERVERS=kafka:9092
# SECURITY_OAUTH2_RESOURCESERVER_JWT_ISSUER_URI=http://auth-service:8082

# ==============================================================================
# PRODUCTION-SPECIFIC SETTINGS
# ==============================================================================
# These should be set in production environment

# DB_PASSWORD=<strong-database-password>
# REDIS_PASSWORD=<strong-redis-password>
# PAYMENT_GATEWAY_API_KEY=<actual-api-key>
# PAYMENT_GATEWAY_SECRET_KEY=<actual-secret-key>
# PAYMENT_GATEWAY_WEBHOOK_SECRET=<actual-webhook-secret>
# PAYMENT_PROCESSING_TIMEOUT=60000

# ==============================================================================
# NOTES
# ==============================================================================
# - Replace all placeholder values with actual values
# - Never commit sensitive data to version control
# - Use different .env files for different environments
# - For production, use a secrets management system (Vault, AWS Secrets Manager, etc.)
# - Validate all URLs and connection strings before deployment
# - Configure payment gateway credentials securely
# - Monitor payment success rates and processing times
# - Set appropriate payment limits based on business requirements
